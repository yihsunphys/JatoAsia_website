<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ title or "我的網站" }}</title>

  <!-- 多語 SEO 建議：依實際站點調整 -->
  <link rel="alternate" hreflang="zh-Hant" href="{{ page.url | url }}" />
  <link rel="alternate" hreflang="en" href="{{ page.url | url }}?lang=en" />
  <meta name="theme-color" content="#0a0d14" />

  <!-- 高質感中英文字體（Noto Sans TC + Inter） -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400..700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg: radial-gradient(1200px 800px at 10% 10%, #111730 0%, #0c0f1f 35%, #070a12 65%, #05070c 100%);
      --text: #E8ECF2;
      --muted: #9AA4B2;
      --accent: #C9B06E;
      --accent-2:#2A9BFF;
      --card-bg: rgba(255,255,255,0.05);
      --card-stroke: rgba(255,255,255,0.08);
      --glow: 0 10px 30px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.06);
      --inner: inset 0 0 0 1px var(--card-stroke);
      --ease: cubic-bezier(.22,.61,.36,1);
    }
    *{ box-sizing:border-box; margin:0; padding:0; }
    html,body{ height:100%; }
    body{
      font-family: "Inter","Noto Sans TC",system-ui,-apple-system,"Segoe UI",Arial,sans-serif;
      line-height:1.7; color:var(--text); background:#05070c;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.015"/></svg>'), var(--bg);
      background-attachment:fixed,fixed; letter-spacing:.1px; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }

    /* Header */
    header{
      position:fixed; inset:0 0 auto 0; width:100%;
      padding:18px 32px; display:flex; justify-content:space-between; align-items:center;
      z-index:20; color:#fff;
      background:linear-gradient(180deg, rgba(6,9,15,.55), rgba(6,9,15,.25));
      backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
      border-bottom:1px solid rgba(255,255,255,0.06);
      box-shadow:var(--glow);
      transition:background .35s var(--ease), padding .35s var(--ease), border-color .35s var(--ease);
    }
    header.scrolled{ background:linear-gradient(180deg, rgba(6,9,15,.85), rgba(6,9,15,.55)); padding:10px 28px; border-color:rgba(255,255,255,0.12); }
    header strong{ font-size:1.45rem; letter-spacing:.5px; font-weight:600; }
    nav{ display:flex; align-items:center; gap:20px; }
    nav a{
      position:relative; padding:6px 0; color:var(--text); font-size:1.06rem; text-decoration:none;
      transition:transform .2s var(--ease), opacity .2s var(--ease); opacity:.95;
    }
    nav a::after{
      content:''; position:absolute; left:0; bottom:-6px; width:100%; height:2px; transform:scaleX(0); transform-origin:left;
      background:linear-gradient(90deg, var(--accent) 0%, var(--accent-2) 100%); transition:transform .35s var(--ease); border-radius:999px;
    }
    nav a:hover{ transform:translateY(-2px); opacity:1; }
    nav a:hover::after{ transform:scaleX(1); }

    /* 語言切換 */
    .lang-switch{ display:flex; align-items:center; gap:10px; margin-left:8px; }
    .lang-btn{
      padding:4px 10px; border:1px solid rgba(255,255,255,.14); border-radius:8px;
      background:rgba(255,255,255,.04); color:#eaf0f8; cursor:pointer; font-size:.9rem;
      transition:transform .2s var(--ease), border-color .2s, background .2s;
    }
    .lang-btn[aria-current="true"]{ background:#1a6bd8; border-color:#1a6bd8; color:#fff; }
    .lang-btn:hover{ transform:translateY(-1px); border-color:rgba(255,255,255,.24); }

    /* Hero */
    .hero{
      position:relative; width:100%; height:88vh; /* 稍高，保留下緣 */
      background-image:var(--hero, url('/images/oil-placeholder.jpg'));
      background-size:cover; background-position:center 68%; background-repeat:no-repeat;
      display:flex; align-items:center; justify-content:center; overflow:hidden;
    }
    .hero::before{
      content:''; position:absolute; inset:0;
      background:
        radial-gradient(60% 60% at 50% 40%, rgba(0,0,0,0) 0%, rgba(0,0,0,.22) 60%, rgba(0,0,0,.42) 100%),
        linear-gradient(180deg, rgba(7,10,17,.30) 0%, rgba(7,10,17,.55) 80%);
      pointer-events:none;
    }
    @media (prefers-reduced-motion: no-preference){
      .hero{ animation: kenburns 22s ease-in-out both; }
      @keyframes kenburns { 0%{background-size:100%;} 50%{background-size:104%;} 100%{background-size:101.5%;} }
    }
    .hero-overlay{ text-align:center; color:#fff; text-shadow:0 6px 28px rgba(0,0,0,.5); padding:0 20px; }
    .hero-overlay h1{
      font-size:clamp(2.2rem, 4vw, 3.4rem); letter-spacing:.6px; margin-bottom:12px; opacity:0; transform:translateY(18px);
      animation:fadeUp .9s var(--ease) .05s forwards;
    }
    .hero-overlay p{
      font-size:clamp(1.2rem, 2.2vw, 1.6rem); opacity:0; transform:translateY(18px);
      animation:fadeUp .9s var(--ease) .25s forwards; color:#d7deea;
    }
    @keyframes fadeUp{ to{ opacity:1; transform:translateY(0);} }

    main{ flex:1; padding:56px 20px 40px; max-width:1200px; margin:0 auto; width:100%; }

    /* 區塊標題 */
    .section-title{
      font-size:clamp(1.5rem, 2.2vw, 1.8rem); text-align:center; margin:0 auto 26px; color:#F2F5FA;
      position:relative; display:inline-block; opacity:0; transform:translateY(16px);
      transition:opacity .6s var(--ease), transform .6s var(--ease); letter-spacing:.5px; padding-bottom:8px;
    }
    .section-title::after{
      content:''; position:absolute; left:50%; bottom:-3px; transform:translateX(-50%) scaleX(0); transform-origin:center;
      width:72px; height:3px; border-radius:999px; background:linear-gradient(90deg, var(--accent) 0%, var(--accent-2) 100%);
      transition:transform .6s var(--ease); box-shadow:0 0 18px rgba(42,155,255,.35);
    }
    .section-title.animate-underline{ opacity:1; transform:translateY(0); }
    .section-title.animate-underline::after{ transform:translateX(-50%) scaleX(1); }

    /* 最新消息卡片 */
    .news-section{ margin:80px auto; max-width:1000px; padding:0 20px; }
    .news-section h2{ color:#F2F5FA; }
    .news-list{ display:flex; flex-direction:column; gap:18px; }
    .news-item{
      background:var(--card-bg); border-radius:14px; box-shadow:var(--glow);
      padding:18px 20px; border:1px solid rgba(255,255,255,0.06);
      backdrop-filter:blur(8px); -webkit-backdrop-filter:blur(8px);
      transition:transform .35s var(--ease), box-shadow .35s var(--ease), border-color .35s var(--ease);
    }
    .news-item:hover{ transform:translateY(-3px); border-color:rgba(255,255,255,0.12); box-shadow:0 12px 28px rgba(0,0,0,.35); }
    .news-item h3{ font-size:1.06rem; margin-bottom:4px; color:#F7F9FD; }
    .news-item p{ font-size:.98rem; color:var(--muted); }
    .news-item time{ font-size:.82rem; color:#95a1b3; letter-spacing:.2px; }

    /* 分頁 */
    .pagination{ display:flex; justify-content:center; align-items:center; margin-top:24px; gap:6px; flex-wrap:wrap; }
    .pagination button{
      padding:6px 12px; min-width:36px; border:1px solid #666; background:#fff; color:#333; border-radius:6px; cursor:pointer;
      font-size:.9rem; transition:background .25s, color .25s, border-color .25s;
    }
    .pagination button:hover{ background:#f0f0f0; }
    .pagination button.active{ background:#0a66c2; border-color:#0a66c2; color:#fff; font-weight:600; }
    .pagination button.prev, .pagination button.next{ font-weight:500; padding:6px 14px; }
    @media (max-width:480px){
      .pagination{ gap:4px; }
      .pagination button{ padding:5px 10px; font-size:.8rem; }
    }

    /* 關於我們 */
    .about-section{
      position:relative; background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
      padding:80px 20px; color:#fff; text-align:center; width:100vw; margin-left:calc(-50vw + 50%);
      border-top:1px solid rgba(255,255,255,0.06); border-bottom:1px solid rgba(255,255,255,0.06); backdrop-filter:blur(4px);
    }
    .about-section h2{ color:#F2F5FA; font-size:1.6rem; margin-bottom:16px; }
    .about-section p{ max-width:820px; margin:0 auto; color:#D6DEEA; font-size:1rem; line-height:1.9; }

    /* 產品分類卡 */
    .categories{ padding-top:60px; margin-bottom:80px; }
    .categories h2{ color:#F2F5FA; }
    .category-row{
      display:flex; align-items:center; background:var(--card-bg); border-radius:0; /* 按你需求去掉圓角 */
      margin-top:40px; margin-bottom:30px; overflow:hidden; box-shadow:var(--glow); border:1px solid rgba(255,255,255,0.08);
      opacity:0; transform:translateY(34px); transition:transform .7s var(--ease), opacity .7s var(--ease), box-shadow .35s var(--ease);
    }
    .category-row.show{ opacity:1; transform:translateY(0); }
    .category-row:hover{ box-shadow:0 16px 36px rgba(0,0,0,.45); }
    .category-row img{ width:40%; height:500px; object-fit:cover; filter:saturate(1.02) contrast(1.02); transition:transform .6s var(--ease), filter .35s var(--ease); }
    .category-row:hover img{ transform:scale(1.03); filter:saturate(1.08) contrast(1.06); }
    .category-info{ flex:1; padding:26px 24px; color:#dfe6f2; }
    .category-info h3{ margin-bottom:10px; font-size:1.28rem; letter-spacing:.4px; color:#F7F9FD; text-shadow:0 1px 0 rgba(255,255,255,.04); }
    .category-info p{ font-size:1rem; color:#A9B3C2; }
    .category-row.reverse{ flex-direction:row-reverse; }

    /* 商品卡 */
    .page-title{ font-size:2rem; text-align:center; margin:30px 0; color:#F2F5FA; }
    .product-row{ display:flex; background:var(--card-bg); border-radius:16px; box-shadow:var(--glow); margin-bottom:28px; overflow:hidden; border:1px solid rgba(255,255,255,0.08); transition:transform .35s var(--ease), box-shadow .35s var(--ease), border-color .35s var(--ease); }
    .product-row:hover{ transform:translateY(-3px); border-color:rgba(255,255,255,0.12); box-shadow:0 16px 36px rgba(0,0,0,.45); }
    .product-images{ flex:0 0 300px; background:rgba(255,255,255,0.03); align-items:center; padding:18px; border-right:1px solid rgba(255,255,255,0.06); }
    .product-images .main-img{ width:100%; max-height:220px; object-fit:contain; margin-bottom:12px; filter:drop-shadow(0 10px 18px rgba(0,0,0,.35)); }
    .product-images .thumbs{ display:flex; gap:10px; }
    .product-images .thumbs img{ width:50px; height:50px; object-fit:cover; border:1px solid rgba(255,255,255,0.08); border-radius:8px; cursor:pointer; transition:transform .2s var(--ease), border-color .2s var(--ease); }
    .product-images .thumbs img:hover{ transform:translateY(-2px); border-color:rgba(255,255,255,0.18); }
    .product-info{ flex:1; padding:22px 26px; }
    .product-name{ font-size:1.5rem; margin-bottom:6px; color:#F7F9FD; }
    .model{ color:#9FB0C5; margin-bottom:12px; }
    .features{ display:flex; flex-wrap:wrap; gap:10px; margin-bottom:16px; }
    .features span{ background:rgba(255,255,255,0.04); color:#DDE4EF; padding:6px 12px; border-radius:999px; font-size:.95rem; border:1px solid rgba(255,255,255,0.08); }
    .price{ font-size:1.15rem; margin-bottom:16px; color:#cfd7e4; }
    .price strong{ font-size:1.45rem; color:var(--accent); text-shadow:0 0 10px rgba(201,176,110,.18); }
    .actions{ display:flex; gap:12px; }
    .btn{ padding:9px 16px; border:1px solid rgba(255,255,255,0.14); background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02)); color:#EAF0F8; border-radius:10px; cursor:pointer; transition:transform .2s var(--ease), box-shadow .3s var(--ease), border-color .2s var(--ease); box-shadow:var(--inner); }
    .btn:hover{ transform:translateY(-2px); border-color:rgba(255,255,255,0.24); }
    .btn.primary{ background:linear-gradient(180deg, #1a6bd8, #1152a5); border-color:#1762c0; color:#fff; box-shadow:0 10px 20px rgba(26,107,216,.28); }
    .btn.primary:hover{ background:linear-gradient(180deg, #1c74ec, #1150a0); }

    /* Footer */
    .site-footer{
      background:linear-gradient(180deg, rgba(5,7,12,.85), rgba(5,7,12,.94));
      border-top:1px solid rgba(255,255,255,0.08);
      backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
      color:#cfd6e3; padding:40px 20px 22px; position:relative; overflow:hidden;
    }
    .site-footer::before{ content:""; position:absolute; left:0; right:0; top:0; height:1px; background:linear-gradient(90deg, #C9B06E, #2A9BFF); opacity:.5; }
    .site-footer::after{ content:""; position:absolute; inset:0; pointer-events:none; background-image:radial-gradient(800px 400px at 15% 0%, rgba(42,155,255,.08), transparent 55%), radial-gradient(600px 300px at 85% 100%, rgba(201,176,110,.08), transparent 55%); }
    .footer-inner{ max-width:1100px; margin:0 auto 8px; }
    .footer-brand{ display:flex; align-items:center; gap:14px; margin-bottom:18px; }
    .brand-text{ display:flex; flex-direction:column; }
    .brand-name{ font-weight:700; color:#F4F7FB; letter-spacing:.3px; }
    .brand-tag{ color:#9fb0c5; font-size:.92rem; }
    .footer-grid{ display:grid; grid-template-columns:repeat(4, minmax(160px, 1fr)); gap:14px; }
    .footer-item{
      display:flex; align-items:center; gap:12px; padding:12px 14px; border:1px solid rgba(255,255,255,.08);
      border-radius:12px; background:rgba(255,255,255,.03); text-decoration:none; color:#e7eefb;
      transition:transform .25s var(--ease), border-color .25s, background .25s, box-shadow .25s;
    }
    .footer-item:hover{ transform:translateY(-2px); border-color:rgba(255,255,255,.18); background:rgba(255,255,255,.05); box-shadow:0 10px 24px rgba(0,0,0,.28); }
    .footer-item .icon{ flex:0 0 36px; height:36px; width:36px; display:grid; place-items:center; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.10); color:#DCD7C4; }
    .footer-item .icon svg{ width:20px; height:20px; }
    .footer-item .text{ display:flex; flex-direction:column; line-height:1.35; }
    .footer-item .label{ font-size:.78rem; letter-spacing:.3px; color:#AAB7C8; }
    .footer-item .value{ font-size:.98rem; color:#F4F7FB; }
    .footer-meta{ margin-top:18px; text-align:center; }
    .footer-meta small{ color:#7c89a0; font-size:.82rem; }
    .sr-only{ position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

    /* RWD */
    @media (max-width:1100px){ .footer-grid{ grid-template-columns:repeat(3, minmax(160px, 1fr)); } }
    @media (max-width:768px){
      .hero{ height:70vh; background-position:center 60%; }
      .category-row, .category-row.reverse{ flex-direction:column; }
      .category-row img{ width:100%; height:200px; }
      .product-images{ flex-basis:100%; border-right:none; border-bottom:1px solid rgba(255,255,255,0.06); }
      .product-images .main-img{ max-height:180px; }
      .footer-grid{ grid-template-columns:1fr; }
    }
  </style>
</head>

<body>
{% if page.url == "/" %}
<header>
  <strong>{{ siteName or "振亞國際有限公司" }}</strong>
  <nav>
    <a href="/" data-i18n="nav.home">首頁</a>
    <a href="/products/" data-i18n="nav.products">商品</a>
    <div class="lang-switch" aria-label="Language">
      <button class="lang-btn" data-lang="zh-Hant" aria-current="true">繁中</button>
      <button class="lang-btn" data-lang="zh-Hans">简中</button>
      <button class="lang-btn" data-lang="en">EN</button>
      <button class="lang-btn" data-lang="de">DE</button>
    </div>

    </div>
  </nav>
</header>

<section class="hero full-bg-section" style="background-image:url('/images/hero.jpg')">
  <div class="hero-overlay">
    <h1 data-i18n="hero.title">{{ title or "振亞國際有限公司" }}</h1>
    <p data-i18n="hero.subtitle">JATOASIAOIL.INTERNATIONAL.CO.LTD</p>
  </div>
</section>
{% else %}
<header>
  <strong>{{ siteName or "振亞國際有限公司" }}</strong>
  <nav>
    <a href="/" data-i18n="nav.home">首頁</a>
    <a href="/products/" data-i18n="nav.products">商品</a>
    <div class="lang-switch" aria-label="Language">
      <button class="lang-btn" data-lang="zh" aria-current="true">繁中</button>
      <button class="lang-btn" data-lang="en">EN</button>
    </div>
  </nav>
</header>
{% endif %}

<main>
  {{ content | safe }}
</main>

<footer class="site-footer" aria-labelledby="footer-heading">
  <h2 id="footer-heading" class="sr-only">網站頁尾</h2>

  <div class="footer-inner">
    <div class="footer-brand">
      <div class="brand-mark" aria-hidden="true">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="none">
          <defs><linearGradient id="g1" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#C9B06E"/><stop offset="100%" stop-color="#2A9BFF"/></linearGradient></defs>
          <circle cx="12" cy="12" r="10" stroke="url(#g1)" stroke-width="1.6" fill="rgba(255,255,255,0.04)"/>
          <path d="M8.5 12.5l2.2 2.2 4.8-5.4" stroke="url(#g1)" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <div class="brand-text">
        <strong class="brand-name" data-i18n="brand.name">振亞國際有限股份公司</strong>
        <span class="brand-tag" data-i18n="brand.tag">高品質汽車化工｜專業服務</span>
      </div>
    </div>

    <div class="footer-grid">

      <!-- 電話 -->
      <a class="footer-item" href="tel:+88661234567" aria-label="撥打電話">
        <span class="icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M6.5 3.5l3 1a1 1 0 0 1 .7.9l.1 2a1 1 0 0 1-.3.8l-1.3 1.2a12.5 12.5 0 0 0 4.9 4.9l1.3-1.2a1 1 0 0 1 .8-.3l2 .1a1 1 0 0 1 .9.7l1 3a1 1 0 0 1-.5 1.2c-1.2.6-2.7 1-4.3 1-6.6 0-12-5.4-12-12 0-1.6.3-3.1 1-4.3a1 1 0 0 1 1.2-.5z" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </span>
        <span class="text">
          <span class="label" data-i18n="footer.phone.label">電話</span>
          <span class="value">(06) 123-4567</span>
        </span>
      </a>

      <!-- 地址 -->
      <a class="footer-item" href="https://maps.google.com/?q=%E5%8F%B0%E5%8D%97%E5%B8%82%E4%B8%AD%E8%A5%BF%E5%8D%80%E6%9F%90%E8%A1%97%E9%81%93+123+%E8%99%9F" target="_blank" rel="noopener" aria-label="開啟地圖">
        <span class="icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M12 21s-6-5.3-6-10a6 6 0 1 1 12 0c0 4.7-6 10-6 10z" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="11" r="2.2" fill="currentColor"/></svg>
        </span>
        <span class="text">
          <span class="label" data-i18n="footer.addr.label">地址</span>
          <span class="value" data-i18n="footer.addr.value">台南市中西區某街道 123 號</span>
        </span>
      </a>

      <!-- Facebook -->
      <a class="footer-item" href="https://facebook.com/" target="_blank" rel="noopener" aria-label="前往 Facebook">
        <span class="icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M15 8h-2c-.6 0-1 .4-1 1v2h3l-.4 3H12v7H9v-7H7v-3h2V9.5A3.5 3.5 0 0 1 12.5 6H15v2z" fill="currentColor"/></svg>
        </span>
        <span class="text">
          <span class="label">Facebook</span>
          <span class="value">@zhenya</span>
        </span>
      </a>

      <!-- LINE -->
      <a class="footer-item" href="https://line.me/R/ti/p/@yourlineid" target="_blank" rel="noopener" aria-label="加入 LINE">
        <span class="icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M19 5.5H5A3.5 3.5 0 0 0 1.5 9v4A3.5 3.5 0 0 0 5 16.5h5.2l2.8 2.2c.6.5 1.5 0 1.5-.8V16.5H19A3.5 3.5 0 0 0 22.5 13V9A3.5 3.5 0 0 0 19 5.5z" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/><circle cx="8.2" cy="11.5" r="1.1" fill="currentColor"/><circle cx="12" cy="11.5" r="1.1" fill="currentColor"/><circle cx="15.8" cy="11.5" r="1.1" fill="currentColor"/></svg>
        </span>
        <span class="text">
          <span class="label">LINE</span>
          <span class="value">@yourlineid</span>
        </span>
      </a>
    </div>
  </div>

  <div class="footer-meta">
    <small>© 2025 振亞國際有限股份公司｜All rights reserved.</small>
  </div>
</footer>

<script>
  /* ===== 多語字典（固定文案） ===== */
  const I18N = {
    zh: {
      "nav.home": "首頁",
      "nav.products": "商品",
      "hero.title": "振亞國際有限公司",
      "hero.subtitle": "JATOASIAOIL.INTERNATIONAL.CO.LTD",
      "sections.news": "最新消息",
      "sections.about": "關於我們",
      "about.desc": "振亞國際專注於汽車化工產品的研發與銷售，致力於提供高品質的潤滑油、燃油添加劑與保養產品。我們擁有超過 20 年業界經驗，服務全台汽車維修與保養產業，深獲客戶信賴。",
      "cat.oil.title": "潤滑油",
      "cat.oil.desc": "高性能潤滑油，延長引擎壽命。",
      "cat.fuel.title": "汽油油精",
      "cat.fuel.desc": "提升燃燒效率，降低碳積。",
      "brand.name": "振亞國際有限股份公司",
      "brand.tag": "高品質汽車化工｜專業服務",
      "footer.store.label": "店家",
      "footer.store.value": "振亞國際有限股份公司",
      "footer.phone.label": "電話",
      "footer.addr.label": "地址",
      "footer.addr.value": "台南市中西區某街道 123 號",
      "pagination.prev": "上一頁",
      "pagination.next": "下一頁"
    },
    en: {
      "nav.home": "Home",
      "nav.products": "Products",
      "hero.title": "Zhenya International Co., Ltd.",
      "hero.subtitle": "JATOASIAOIL.INTERNATIONAL.CO.LTD",
      "sections.news": "News",
      "sections.about": "About Us",
      "about.desc": "Zhenya focuses on R&D and distribution of automotive chemical products, offering high-quality lubricants, fuel additives, and maintenance solutions with over 20 years of industry experience in Taiwan.",
      "cat.oil.title": "Lubricant Oil",
      "cat.oil.desc": "High-performance lubricants to extend engine life.",
      "cat.fuel.title": "Fuel Additive",
      "cat.fuel.desc": "Improve combustion efficiency and reduce carbon deposits.",
      "brand.name": "Zhenya International Co., Ltd.",
      "brand.tag": "Premium Automotive Chemicals",
      "footer.store.label": "Company",
      "footer.store.value": "Zhenya International Co., Ltd.",
      "footer.phone.label": "Phone",
      "footer.addr.label": "Address",
      "footer.addr.value": "No.123, Zhongxi Dist., Tainan City",
      "pagination.prev": "Prev",
      "pagination.next": "Next"
    }
  };

  function getLangFromQuery(){
    const m = location.search.match(/[?&]lang=(en|zh)\b/);
    return m ? m[1] : null;
  }
  function applyI18n(lang){
    const dict = I18N[lang] || I18N.zh;
    document.documentElement.lang = (lang === 'en' ? 'en' : 'zh-Hant');
    document.querySelectorAll("[data-i18n]").forEach(el=>{
      const key = el.getAttribute("data-i18n");
      if(dict[key] != null) el.textContent = dict[key];
    });
    // Lang button state
    document.querySelectorAll(".lang-btn").forEach(btn=>{
      btn.setAttribute("aria-current", btn.dataset.lang === lang ? "true" : "false");
    });
    // Pagination labels（若已建立，更新箭頭 title）
    const prev = document.querySelector(".pagination .prev");
    const next = document.querySelector(".pagination .next");
    if(prev) prev.setAttribute("title", dict["pagination.prev"]);
    if(next) next.setAttribute("title", dict["pagination.next"]);
  }

  const saved = localStorage.getItem("lang");
  const langFromQuery = getLangFromQuery();
  const currentLang = langFromQuery || saved || "zh";
  localStorage.setItem("lang", currentLang);

  document.addEventListener('DOMContentLoaded', () => {
    /* Header 滾動變色 */
    const header = document.querySelector('header');
    const onScroll = () => header.classList.toggle('scrolled', window.scrollY > 50);
    window.addEventListener('scroll', onScroll); onScroll();

    /* 產品分類進場 */
    const rowObserver = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('show'); observer.unobserve(entry.target); }});
    }, { threshold: 0.25 });
    document.querySelectorAll('.category-row').forEach(el => rowObserver.observe(el));

    /* 標題底線入場 */
    const titleObserver = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('animate-underline'); observer.unobserve(entry.target); }});
    }, { threshold: 0.5 });
    document.querySelectorAll('.section-title').forEach(el => titleObserver.observe(el));

    /* 商品縮圖切換 */
    document.querySelectorAll('.product-images').forEach(box=>{
      const main = box.querySelector('.main-img');
      box.querySelectorAll('.thumbs img')?.forEach(t=>{
        t.addEventListener('mouseenter', ()=>{ if(main) main.src = t.src; });
        t.addEventListener('focus', ()=>{ if(main) main.src = t.src; });
      });
    });

    /* 分頁 */
    const itemsPerPage = 3;
    const newsItems = document.querySelectorAll(".news-list .news-item");
    const pagination = document.querySelector(".pagination");
    const totalPages = Math.ceil(newsItems.length / itemsPerPage);
    let currentPage = 1;

    function renderPagination() {
      pagination.innerHTML = "";
      const prevBtn = document.createElement("button");
      prevBtn.textContent = "«";
      prevBtn.className = "prev";
      prevBtn.title = I18N[currentLang]["pagination.prev"];
      prevBtn.disabled = currentPage === 1;
      prevBtn.addEventListener("click", () => showPage(currentPage - 1));
      pagination.appendChild(prevBtn);

      for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement("button");
        btn.textContent = i;
        if (i === currentPage) btn.classList.add("active");
        btn.addEventListener("click", () => showPage(i));
        pagination.appendChild(btn);
      }

      const nextBtn = document.createElement("button");
      nextBtn.textContent = "»";
      nextBtn.className = "next";
      nextBtn.title = I18N[currentLang]["pagination.next"];
      nextBtn.disabled = currentPage === totalPages;
      nextBtn.addEventListener("click", () => showPage(currentPage + 1));
      pagination.appendChild(nextBtn);
    }

    function showPage(page) {
      currentPage = page;
      newsItems.forEach((item, idx) => {
        item.style.display = (idx >= (page - 1) * itemsPerPage && idx < page * itemsPerPage) ? "block" : "none";
      });
      renderPagination();
    }
    showPage(1);

    /* 語言套用與切換 */
    applyI18n(currentLang);
    document.querySelectorAll(".lang-btn").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        const lang = btn.dataset.lang;
        localStorage.setItem("lang", lang);
        // 更新 URL（保留其他 query）
        const url = new URL(location.href);
        url.searchParams.set("lang", lang);
        history.replaceState(null, "", url.toString());
        applyI18n(lang);
      });
    });
  });
</script>
</body>
</html>
